# ToolsEnum

## Source payload

- <https://raw.githubusercontent.com/BloodHoundAD/BloodHound/master/Ingestors/SharpHound.ps1>
- <https://github.com/BloodHoundAD/BloodHound/raw/master/Ingestors/SharpHound.exe>

## SharpHound && BloodHound

> Client

Powershell:

```powershell
powershell -ex bypass
Import-Module .\SharpHound.ps1

Invoke-BloodHound -CollectionMethod Session -Stealth
Invoke-BloodHound -CollectionMethod All -JSONFolder "c:\programdata\bloodhound"
```

Binary:

```powershell
SharpHound.exe --Domain domain.lab --DomainController DC_IP_ADDRESS --LdapUser USERNAME --LdapPass PASSWORD -c All
SharpHound.exe --Domain domain.lab --DomainController DC_IP_ADDRESS --LdapUser USERNAME --LdapPass PASSWORD
SharpHound.exe --CollectionMethod Session --Stealth
SharpHound.exe -C All
```

LDAP:

```bash
bloodhound-python -ns DC_IP_ADDRESS -d domain.lab -dc DC_NAME.domain.lab -u USERNAME -p PASSWORD -c All
bloodhound-python -ns DC_IP_ADDRESS -d domain.lab -dc DC_NAME.domain.lab -u USERNAME --hashes LM:NLTM -c All
```

LDAP while pivoting :

```bash
bloodhound-python -ns DC_IP_ADDRESS -d domain.lab -dc DC_NAME.domain.lab -u USERNAME -p PASSWORD -c All --dns-tcp
```

> Server

```bash
sudo archlinux-java set java-11-openjdk 


sudo systemctl start noe4j

or 

sudo neo4j start
```

```bash
bloodhound
```

## ACLpwn

Path:

<https://github.com/fox-it/aclpwn.py>

Test:

```bash
aclpwn -f USERNAME@domain.lab -d pentest.local -s DC_IP_ADDRESS -du neo4j -dp neo4j -dry
```

Command:

```bash
aclpwn -f USERNAME@domain.lab -d pentest.local -s DC_IP_ADDRESS -du neo4j -dp neo4j
```
