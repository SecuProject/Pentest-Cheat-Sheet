# DNS

Default port: `53/tcp,53/udp`

## Nmap

```zsh
nmap --script=dns-service-discovery -p 53 TARGET_IP
```

### Reverse cache

```zsh
sudo nmap -sU -p 53 --script dns-cache-snoop.nse TARGET_IP
```

## Enumeration

```zsh
dnsenum DOMAIN_NAME
```

## nslookup

nslookup

```zsh
> server DOMAIN_NAME_SERV
> set type=txt
> TARGET_IP
> 127.0.0.1
> test.local
```

Debug mode

```zsh
nslookup -debug DOMAIN_NAME
```

## dig

### Found info domain

```zsh
dig -x TARGET_IP @TARGET_IP
```

## DNS zone transfer

```zsh
dig axfr @TARGET_IP DOMAIN_NAME

host -t axfr z.DOMAIN_NAME ns1.DOMAIN_NAME
host -l z.DOMAIN_NAME ns1.DOMAIN_NAME

dnsrecon -d DOMAIN_NAME -t axfr
```

## Dnsrecon

Reverse discovery:

```sh
dnsrecon -r 192.168.1.0/24 -n DOMAIN_NAME_SERV
```

Brute force subdomains

```sh
dnsrecon -d DOMAIN_NAME -D wordlist.txt -t brt
```
